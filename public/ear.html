<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ear Exam</title>
    <!-- Load the translations object from language.js -->
    <script type="module" src="language.js"></script>
    <style>
      /* Global page layout and typography */
      body {
        font-family: 'Calibri Light', Arial, sans-serif;
        background-color: white;
        color: black;
        margin: 0;
        padding: 0;
      }
      /* Top app bar styling */
      #appBar {
        display: flex;
        align-items: center;
        background-color: black;
        color: white;
        padding: 10px 20px;
      }
      /* Back arrow */
      #backArrow {
        color: white;
        font-size: 32px;
        font-weight: bold;
        cursor: pointer;
        padding-right: 20px;
      }
      /* Page title (centered) */
      #pageTitle {
        text-align: center;
        margin: 0 auto;
        font-size: 24px;
      }
      /* Main content styling */
      #earExamText {
        padding: 15px;
        line-height: 1.4em;
      }
      /* Section headings */
      #earExamText h3 {
        margin-top: 16px;
        margin-bottom: 8px;
      }
      /* Paragraphs */
      #earExamText p {
        margin-bottom: 8px;
      }
    </style>
  </head>
  <body>
    <!-- Top App Bar -->
    <div id="appBar">
      <div id="backArrow" onclick="history.back()">&#x2190;</div>
      <h1 id="pageTitle">How to examine the ear</h1>
    </div>

    <!-- Main Content Area -->
    <div id="earExamText">
      <!-- All Around Ear Section -->
      <h3 id="allAroundEarHeading">All around ear</h3>
      <p id="allAroundEarText">
        Check: <em>pinna, </em><em>tragus, </em><em>mastoid</em> for lumps, tenderness or discharge<br />
        Gently move pinna, note any pain
      </p>

      <!-- Ear Canal Section -->
      <h3 id="earCanalHeading">Ear canal</h3>
      <p id="earCanalText">
        Tilt head, <strong><u>hold Arclight like a pen</u></strong
        ><br />
        Pull pinna up/back (adults) or down/back (children)<br />
        Insert speculum (4.5mm adult, 2.5mm infant), push past hairs, rotate if needed<br />
        Look for: <em>wax,</em> <em>debris,</em> <em>infection</em>
      </p>

      <!-- Tympanic Membrane Section -->
      <h3 id="tympanicMembraneHeading">Tympanic membrane</h3>
      <p id="tympanicMembraneText">
        Identify handle of malleus, light reflex, attic<br />
        Note: <em>colour</em>, <em>position</em>, <em>translucency</em><br />
        Look for perforation, fluid or scarring
      </p>

      <!-- Additional Information -->
      <p id="additionalText">
        Know your TM's: normal, <span style="color: red; font-weight: bold">red</span>, <span style="color: orange">bulging</span>,
        <span style="color: green">retracted</span>, <span style="color: purple">perforated</span><br />
        &gt;Practice often&lt;
      </p>
    </div>

    <!-- Inline JavaScript to update text using the translations object -->
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        updatePageTranslations();
      });

      window.addEventListener('storage', function (e) {
        if (e.key === 'preferredLanguage') {
          updatePageTranslations();
        }
      });

      function updatePageTranslations() {
        var lang = localStorage.getItem('preferredLanguage') || 'en';
        var t = window.translations && window.translations[lang];
        if (t) {
          document.getElementById('pageTitle').textContent = t.pageTitle;
          document.getElementById('allAroundEarHeading').textContent = t.allAroundEarHeading;
          document.getElementById('allAroundEarText').innerHTML = t.allAroundEarText;
          document.getElementById('earCanalHeading').textContent = t.earCanalHeading;
          document.getElementById('earCanalText').innerHTML = t.earCanalText;
          document.getElementById('tympanicMembraneHeading').textContent = t.tympanicMembraneHeading;
          document.getElementById('tympanicMembraneText').innerHTML = t.tympanicMembraneText;
          document.getElementById('additionalText').innerHTML = t.additionalText;
        }
      }
    </script>
  </body>
</html>
